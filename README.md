# –ú–æ–Ω–≥–æ–ª –•—ç–ª–Ω–∏–π –ö–æ–º–ø–∞–π–ª–µ—Ä

–ú–æ–Ω–≥–æ–ª —Ö—ç–ª –¥—ç—ç—Ä —Å—É—É—Ä–∏–ª—Å–∞–Ω –ø—Ä–æ–≥—Ä–∞–º—á–ª–∞–ª—ã–Ω —Ö—ç–ª–Ω–∏–π –∫–æ–º–ø–∞–π–ª–µ—Ä —é–º. –≠–Ω—ç —Ç”©—Å”©–ª –Ω—å –ª–µ–∫—Å–∏–∫ –∞–Ω–∞–ª–∏–∑—ç—ç—Å —ç—Ö–ª“Ø“Ø–ª–∂ –∫–æ–¥ “Ø“Ø—Å–≥—ç–ª—Ç —Ö“Ø—Ä—Ç—ç–ª—Ö –∫–æ–º–ø–∞–π–ª–µ—Ä “Ø–π–ª —è–≤—Ü—ã–≥ –±“Ø—Ä—ç–Ω —Ö—ç—Ä—ç–≥–∂“Ø“Ø–ª—Å—ç–Ω.

## üöÄ –û–Ω—Ü–ª–æ–≥

- **–ú–æ–Ω–≥–æ–ª –•—ç–ª–Ω–∏–π –°–∏–Ω—Ç–∞–∫—Å**: –ú–æ–Ω–≥–æ–ª —Ö—ç–ª–Ω–∏–π —Ç“Ø–ª—Ö“Ø“Ø—Ä “Ø–≥, –≥—Ä–∞–º–º–∞—Ç–∏–∫ –∞—à–∏–≥–ª–∞–Ω –ø—Ä–æ–≥—Ä–∞–º—á–ª–∞–ª—ã–Ω —Ö—ç–ª–Ω—ã –∑–∞–≥–≤–∞—Ä—ã–≥ “Ø“Ø—Å–≥—ç—Å—ç–Ω.
- **–ë“Ø—Ä—ç–Ω –ö–æ–º–ø–∞–π–ª–µ—Ä “Æ–π–ª –Ø–≤—Ü**:
  - –õ–µ–∫—Å–∏–∫ –ê–Ω–∞–ª–∏–∑ (Lexer)
  - –°–∏–Ω—Ç–∞–∫—Å –ê–Ω–∞–ª–∏–∑ (Parser)
  - –°–µ–º–∞–Ω—Ç–∏–∫ –ê–Ω–∞–ª–∏–∑
  - –ö–æ–¥ “Æ“Ø—Å–≥—ç–ª—Ç
  - –õ–∏–Ω–∫–ª—ç–ª—Ç
- **–û—Ä—á–∏–Ω “Æ–µ–∏–π–Ω –•—ç–ª–Ω–∏–π –û–Ω—Ü–ª–æ–≥—É—É–¥**:
  - –•“Ø—á—Ç—ç–π —Ç”©—Ä–ª–∏–π–Ω —Å–∏—Å—Ç–µ–º
  - –§—É–Ω–∫—Ü —Ç–æ–¥–æ—Ä—Ö–æ–π–ª–æ–ª—Ç –±–æ–ª–æ–Ω –¥—É—É–¥–∞–ª—Ç
  - –£–¥–∏—Ä–¥–ª–∞–≥—ã–Ω —É—Ä—Å–≥–∞–ª—ã–Ω –º—ç–¥—ç–≥–¥–ª“Ø“Ø–¥ (—Ö—ç—Ä—ç–≤, –¥–∞–≤—Ç, –¥–∞–≤—Ç–∞—Ö)
  - –•—É–≤—å—Å–∞–≥—á–∏–π–Ω —Ç–æ–¥–æ—Ä—Ö–æ–π–ª–æ–ª—Ç –±–æ–ª–æ–Ω —É—Ç–≥–∞ –æ–Ω–æ–æ—Ö
  - –ò–º–ø–æ—Ä—Ç —Å–∏—Å—Ç–µ–º
  - –•“Ø—Ä—ç—ç–Ω–∏–π –∏–ª—ç—Ä—Ö–∏–π–ª—ç–ª

## üìö –•—ç–ª–Ω–∏–π –°–∏–Ω—Ç–∞–∫—Å

```mon
—Ñ—É–Ω–∫—Ü –Ω—ç–º—ç—Ö(–∞: —Ç–æ–æ, –±: —Ç–æ–æ) -> —Ç–æ–æ {
    –∑–∞—Ä–ª–∞ –Ω–∏–π–ª–±—ç—Ä: —Ç–æ–æ = –∞ + –±;
    –±—É—Ü –Ω–∏–π–ª–±—ç—Ä;
}

—Ñ—É–Ω–∫—Ü “Ø–Ω–¥—Å—ç–Ω() {
    –∑–∞—Ä–ª–∞ —Ç–æ–æ: —Ç–æ–æ = 5;
    —Ö—ç—Ä—ç–≤ —Ç–æ–æ > 0 –±–æ–ª {
        –∑–∞—Ä–ª–∞ “Ø—Ä_–¥“Ø–Ω = –Ω—ç–º—ç—Ö(—Ç–æ–æ, 10);
    }
}
```

## üõ†Ô∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä

–ö–æ–º–ø–∞–π–ª–µ—Ä –Ω—å —É–ª–∞–º–∂–ª–∞–ª—Ç “Ø–π–ª —è–≤—Ü—ã–Ω –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—Ç –¥–∞–≥–∞–∂ –º”©—Ä–¥–¥”©–≥:

```
Lexer -> Parser -> Compiler -> Code Generator -> Linker
```

### –ë“Ø—Ä—ç–ª–¥—ç—Ö“Ø“Ø–Ω —Ö—ç—Å–≥“Ø“Ø–¥

1. **Lexer**: –≠—Ö –∫–æ–¥—ã–≥ —É—Ç–≥–∞ —É—á–∏—Ä—Ç–∞–π –Ω—ç–≥–∂“Ø“Ø–¥ –±–æ–ª–≥–æ–Ω –∑–∞–¥–∞–ª–¥–∞–≥
2. **Parser**: –¢–æ–∫–µ–Ω—É—É–¥–∞–∞—Å –ê–±—Å—Ç—Ä–∞–∫—Ç –°–∏–Ω—Ç–∞–∫—Å –ú–æ–¥ (AST) –±“Ø—Ç—ç—ç–¥—ç–≥
3. **Compiler**: –°–µ–º–∞–Ω—Ç–∏–∫ –∞–Ω–∞–ª–∏–∑ –±–æ–ª–æ–Ω –æ–Ω–æ–≤—á–ª–æ–ª —Ö–∏–π–¥—ç–≥
4. **Code Generator**: –ó–æ—Ä–∏–ª—Ç–æ—Ç –∫–æ–¥ (x86 assembly) “Ø“Ø—Å–≥—ç–¥—ç–≥
5. **Linker**: –≠—Ü—Å–∏–π–Ω –≥“Ø–π—Ü—ç—Ç–≥—ç—Ö —Ñ–∞–π–ª “Ø“Ø—Å–≥—ç–¥—ç–≥

## üîß –°—É—É–ª–≥–∞—Ö –±–æ–ª–æ–Ω –ê–∂–∏–ª–ª—É—É–ª–∞—Ö

```bash
# –ö–æ–º–ø–∞–π–ª–µ—Ä –±“Ø—Ç—ç—ç—Ö
make build

# –ö–æ–º–ø–∞–π–ª–µ—Ä –∞–∂–∏–ª–ª—É—É–ª–∞—Ö
./compiler input.mon

# –ü—Ä–æ–≥—Ä–∞–º –∫–æ–º–ø–∞–π–ª —Ö–∏–π–∂ –∞–∂–∏–ª–ª—É—É–ª–∞—Ö
./compiler input.mon && ./a.out
```

## üìñ –•—ç–ª–Ω–∏–π –¢–æ–¥–æ—Ä—Ö–æ–π–ª–æ–ª—Ç

–•—ç–ª –Ω—å EBNF –≥—Ä–∞–º–º–∞—Ç–∏–∫ –¥—ç—ç—Ä —Å—É—É—Ä–∏–ª–¥–∞–≥ –±”©–≥”©”©–¥ –¥–∞—Ä–∞–∞—Ö –∑“Ø–π–ª—Å–∏–π–≥ —Ç–æ–¥–æ—Ä—Ö–æ–π–ª—Å–æ–Ω:
- –ü—Ä–æ–≥—Ä–∞–º—ã–Ω –±“Ø—Ç—ç—Ü
- –§—É–Ω–∫—Ü–∏–π–Ω —Ç–æ–¥–æ—Ä—Ö–æ–π–ª–æ–ª—Ç
- –•—É–≤—å—Å–∞–≥—á–∏–π–Ω —Ç–æ–¥–æ—Ä—Ö–æ–π–ª–æ–ª—Ç
- –£–¥–∏—Ä–¥–ª–∞–≥—ã–Ω —É—Ä—Å–≥–∞–ª—ã–Ω –º—ç–¥—ç–≥–¥–ª“Ø“Ø–¥
- –ò–ª—ç—Ä—Ö–∏–π–ª—ç–ª –±–æ–ª–æ–Ω –æ–ø–µ—Ä–∞—Ç–æ—Ä—É—É–¥
- –¢”©—Ä–ª–∏–π–Ω —Å–∏—Å—Ç–µ–º

## üéØ –¢”©—Å–ª–∏–π–Ω –ó–æ—Ä–∏–ª–≥–æ

- –ú–æ–Ω–≥–æ–ª —Ö—ç–ª –¥—ç—ç—Ä —Å—É—É—Ä–∏–ª—Å–∞–Ω –ø—Ä–æ–≥—Ä–∞–º—á–ª–∞–ª—ã–Ω —Ö—ç–ª–Ω–∏–π –±“Ø—Ä—ç–Ω –∞–∂–∏–ª–ª–∞—Ö –∫–æ–º–ø–∞–π–ª–µ—Ä –±“Ø—Ç—ç—ç—Ö
- –ê–ª–¥–∞–∞–Ω—ã –º—ç–¥—ç—ç–ª—ç–ª –±–æ–ª–æ–Ω —Ç–∞–π–ª–±–∞—Ä—ã–≥ –∑”©–≤ —Ö–∏–π—Ö
- “Æ—Ä –¥“Ø–Ω—Ç—ç–π x86 assembly –∫–æ–¥ “Ø“Ø—Å–≥—ç—Ö
- –ú–æ–Ω–≥–æ–ª —Ö—ç–ª—Ç —Ö—ç—Ä—ç–≥–ª—ç–≥—á–¥—ç–¥ —Ü—ç–≤—ç—Ä, –æ–π–ª–≥–æ–º–∂—Ç–æ–π —Å–∏–Ω—Ç–∞–∫—Å —Å–∞–Ω–∞–ª –±–æ–ª–≥–æ—Ö

## üìö –õ–∞–≤–ª–∞–≥–∞–∞

- [Monkey Language Implementation](https://github.com/kitasuke/monkey-go)
- [x86 Assembly Reference](https://flint.cs.yale.edu/cs421/papers/x86-asm/asm.html)
- [Oracle x86 Assembly Manual](https://docs.oracle.com/cd/E19253-01/817-5477/817-5477.pdf)

## ü§ù –•–∞–º—Ç—ã–Ω –ê–∂–∏–ª–ª–∞–≥–∞–∞

–•–∞–º—Ç—ã–Ω –∞–∂–∏–ª–ª–∞–≥–∞–∞–≥ —É—Ä—å–∂ –±–∞–π–Ω–∞! Pull Request –∏–ª–≥—ç—ç—Ö—ç–¥ –±—ç–ª—ç–Ω –±–∞–π–Ω–∞.

## üìù –õ–∏—Ü–µ–Ω–∑

–≠–Ω—ç —Ç”©—Å”©–ª –Ω—å MIT –ª–∏—Ü–µ–Ω–∑—ç—ç—Ä —Ö–∞–º–≥–∞–∞–ª–∞–≥–¥—Å–∞–Ω. –î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π–≥ LICENSE —Ñ–∞–π–ª–∞–∞—Å “Ø–∑–Ω—ç “Ø“Ø.

## üë®‚Äçüíª –ó–æ—Ö–∏–æ–≥—á

[–≠. –ú”©–Ω—Ö-–≠—Ä–¥—ç–Ω—ç 2025/–ö–æ–º–ø—å—é—Ç–µ—Ä—ã–Ω —É—Ö–∞–∞–Ω] - –¢”©–≥—Å”©–ª—Ç–∏–π–Ω –¢”©—Å”©–ª

```sh
===EBNF===

(* Program Structure *)
<program> ::= { <import> } <function>
<import> ::= "–∏–º–ø–æ—Ä—Ç" <identifier> { "." <identifier> } ";"
<function> ::= "—Ñ—É–Ω–∫—Ü" <identifier> "(" [ <param-list> ] ")" [ "->" <type> ] <block>
<block> ::= "{" <block-item>* "}"
<block-item> ::= <statement> | <declaration>

(* Declarations *)
<declaration> ::= <fn-decl> | <var-decl>
<var-decl> ::= "–∑–∞—Ä–ª–∞" <identifier> [ ":" <type> ] [ "=" <exp> ] ";"
<fn-decl> ::= <identifier> "(" [ <param-list> ] ")" [ "->" <type> ] ";"
<param-list> ::= <param> { "," <param> }
<param> ::= <identifier> ":" <type>
<type> ::= "—Ç–æ–æ" | "—Ç—ç–º–¥—ç–≥—Ç"

(* Statements *)
<statement> ::= <return-stmt>
              | <if-stmt>
              | <for-stmt>
              | <while-stmt>
              | <break-stmt>
              | <continue-stmt>
              | <exp-stmt>
              | ";"

<return-stmt> ::= "–±—É—Ü" <exp> ";"
<if-stmt> ::= "—Ö—ç—Ä—ç–≤" <exp> "–±–æ–ª" <block> [ "“Ø–≥“Ø–π –±–æ–ª" <block> ]
<for-stmt> ::= "–¥–∞–≤—Ç" <identifier> "–±–æ–ª" <exp> "—Ö“Ø—Ä—Ç—ç–ª" <block>
<while-stmt> ::= "–¥–∞–≤—Ç–∞—Ö" [ <exp> ] "—Ö“Ø—Ä—Ç—ç–ª" <block>
<break-stmt> ::= "–∑–æ–≥—Å" ";"
<continue-stmt> ::= "“Ø—Ä–≥—ç–ª–∂–ª“Ø“Ø–ª" ";"
<exp-stmt> ::= <exp> ";"

(* Expressions *)
<exp> ::= <assignment>
<assignment> ::= <identifier> "=" <exp>
               | <logical-or>
<logical-or> ::= <logical-and> { "—ç—Å–≤—ç–ª" <logical-and> }
<logical-and> ::= <equality> { "–±–æ–ª–æ–Ω" <equality> }
<equality> ::= <comparison> { ("==" | "!=") <comparison> }
<comparison> ::= <term> { ("<" | "<=" | ">" | ">=") <term> }
<term> ::= <factor> { ("+" | "-") <factor> }
<factor> ::= <unary> { ("*" | "/") <unary> }
<unary> ::= ("-" | "~" | "!") <unary> | <primary>
<primary> ::= <number>
            | <string>
            | <identifier>
            | <fn-call>
            | <range-exp>
            | "(" <exp> ")"

<fn-call> ::= <identifier> "(" [ <argument-list> ] ")"
<argument-list> ::= <exp> { "," <exp> }
<range-exp> ::= <exp> ".." <exp>

(* Lexical Elements *)
<identifier> ::= <letter> { <letter> | <digit> }
<number> ::= <digit> { <digit> }
<string> ::= '"' { <char> } '"'
<letter> ::= "A" | "B" | ... | "Z" | "a" | "b" | ... | "z" | "_"
<digit> ::= "0" | "1" | ... | "9"
<char> ::= (* Any character except unescaped double quote *)

(* Comments *)
<comment> ::= "//" { <char> } <newline>

```sh
===AST===

program = Program(function_definition)
function_definition = Function(identifier name, parameter* params, type return_type, block_item* body)
parameter = Parameter(identifier name, type type)
type = Number | String
block_item = S(statement) | D(declaration)
declaration = Declaration(identifier name, type? type, exp? init)
statement = Return(exp)
         | If(exp, block, block?)
         | For(identifier, exp, exp, block)
         | Expression(exp)
         | Null
block = Block(block_item* items)
exp = Constant(int)
    | String(string)
    | Var(identifier)
    | ArrayAccess(identifier, exp)
    | Unary(unary_operator, exp)
    | Binary(binary_operator, exp, exp)
    | Assignment(exp, exp)
    | Ternary(exp, exp, exp)
unary_operator = Complement | Negate | Not
binary_operator = Add | Subtract | Multiply | Divide | Remainder
                | And | Or
                | Equal | NotEqual | LessThan | LessOrEqual
                | GreaterThan | GreaterOrEqual


```
